"use strict";function timelineEventsHeightRecalculation(n,t){n.each(function(n,i){var u=$(i),r=undefined;u.find(".t-event").each(function(n,i){var u=$(i),f;t?u.css("height",""):(n%3==0&&u.next().length>0?u.height(50):n%3==1&&(f=r.children(".card").height(),u.height(f)),r=u)})})}function directorySearchClearHandler(){function i(){var i=new URLSearchParams(window.location.search);i.has(t)||(n.value="")}var n=document.getElementById("directory-search"),t;n&&(t="q",window.addEventListener("pageshow",i))}function setupMentorCheckboxBehavior(){var t=document.getElementById("IsMentor"),n=document.getElementById("IsOpenToNewMentees");t&&n&&(n.disabled=!t.checked,t.addEventListener("change",function(){n.disabled=!this.checked;this.checked||(n.checked=!1)}))}function CountryFacet(n){if(this.identifier=n,this.searchInput=document.getElementById("country-search-"+n),this.dropdown=document.getElementById("country-dropdown-"+n),this.hiddenInput=document.getElementById("country-hidden-"+n),this.clearButton=document.getElementById("country-clear-"+n),!this.searchInput||!this.dropdown||!this.hiddenInput||!this.clearButton){console.warn("CountryFacet: Required elements not found for identifier: "+n);return}this.options=this.dropdown.querySelectorAll(".dropdown-option");this.isLocked=!1;this.init()}$(document).ready(function(){var t=$(window),i,u,f,n,e,o,r,s,h,c;if($("#search").keyup(function(n){n.which===13&&(n.preventDefault(),$("#gosearch").click())}),i=$("#addMoreReviewers"),i.length>0&&function(){var n=$("#addReviewerForm div.form-group")[0].outerHTML;i.click(function(){i.before(n)})}(),u=$(".countdown"),u.length>0&&u.each(function(n,t){var i=$(t),r=new Date(i.data("date")),u=i.children(".countdown-days"),f=i.children(".countdown-hours"),e=i.children(".countdown-minutes"),o=i.children(".countdown-seconds"),s=setInterval(function(){var t=(new Date).getTime(),h=new Date(t+(new Date).getTimezoneOffset()*6e4),n=r-h,c=Math.floor(n/864e5),l=Math.floor(n%864e5/36e5),a=Math.floor(n%36e5/6e4),v=Math.floor(n%6e4/1e3);u.text(c);f.text(l);e.text(a);o.text(v);n<=0&&(clearInterval(s),i.html("<span class='badge badge-danger'>Expired!<\/span>"))},1e3)}),f=$(".mvp-fp-directory"),f.length>0&&function(){var n=f.find("form");n.on("change","input:checkbox",function(){n.submit()});directorySearchClearHandler()}(),n=$(".timeline"),n.length>0){setTimeout(timelineEventsHeightRecalculation(n,t.width()<576),1e3);setTimeout(timelineEventsHeightRecalculation(n,t.width()<576),2e3);setTimeout(timelineEventsHeightRecalculation(n,t.width()<576),3e3);setTimeout(timelineEventsHeightRecalculation(n,t.width()<576),5e3);setTimeout(timelineEventsHeightRecalculation(n,t.width()<576),1e4);t.on("resize",function(){timelineEventsHeightRecalculation(n,t.width()<576)})}for(e=$(".textareacounter"),e.length>0&&e.each(function(n,t){var r=$(t),i=r.siblings("textarea"),u=i.attr("maxlength");i.on("input",function(){r.text(i.val().length+" / "+u)})}),o=document.querySelectorAll('[id^="country-search-"]'),r=0;r<o.length;r++)s=o[r],h=s.id.replace("country-search-",""),new CountryFacet(h);c=$(".mvp-fs-mvpmentordata");c.length>0&&setupMentorCheckboxBehavior()});CountryFacet.prototype.init=function(){this.setInitialValue();this.bindEvents()};CountryFacet.prototype.createAllCountriesOption=function(n){var t=document.createElement("div");return t.className="dropdown-option"+(n===""?" selected":""),t.setAttribute("data-value",""),t.setAttribute("data-display","All Countries"),t.textContent="All Countries",t};CountryFacet.prototype.createDropdownOption=function(n,t){var i=document.createElement("div");return i.className="dropdown-option",i.setAttribute("data-value",n.value),i.setAttribute("data-display",n.display),i.textContent=n.text,n.value===t&&i.classList.add("selected"),i};CountryFacet.prototype.selectCountry=function(n){for(var t,r=this.dropdown.querySelectorAll(".dropdown-option"),i=0;i<r.length;i++)r[i].classList.remove("selected");if(n.classList.add("selected"),t=n.getAttribute("data-value"),this.hiddenInput.value=t,t==="")this.searchInput.value="";else{var u=n.getAttribute("data-display"),e=n.textContent.trim(),f=e.match(/\((\d+)\)$/);this.searchInput.value=f?u+" ("+f[1]+")":u}this.hideDropdown();t!==""?this.lockInput():this.unlockInput();this.hiddenInput.form.submit()};CountryFacet.prototype.showDropdown=function(){this.dropdown.style.display="block";this.showAllOptions()};CountryFacet.prototype.hideDropdown=function(){this.dropdown.style.display="none"};CountryFacet.prototype.lockInput=function(){this.isLocked=!0;this.searchInput.classList.add("locked");this.searchInput.readOnly=!0;this.clearButton.classList.add("visible")};CountryFacet.prototype.unlockInput=function(){this.isLocked=!1;this.searchInput.classList.remove("locked");this.searchInput.readOnly=!1;this.clearButton.classList.remove("visible")};CountryFacet.prototype.clearSelection=function(){var n=this.dropdown.querySelector('.dropdown-option[data-value=""]');n&&this.selectCountry(n)};CountryFacet.prototype.showAllOptions=function(){for(var t=this.dropdown.querySelectorAll(".dropdown-option"),n=0;n<t.length;n++)t[n].classList.remove("hidden")};CountryFacet.prototype.filterOptions=function(n){var r,i,t,u;if(n===""){this.showAllOptions();return}for(r=n.toLowerCase(),i=this.dropdown.querySelectorAll(".dropdown-option"),t=0;t<i.length;t++)u=i[t].textContent.toLowerCase().indexOf(r)!==-1,u?i[t].classList.remove("hidden"):i[t].classList.add("hidden")};CountryFacet.prototype.setInitialValue=function(){var n=this.dropdown.querySelector(".dropdown-option.selected");if(n&&n.getAttribute("data-value")!==""){var t=n.getAttribute("data-display"),r=n.textContent.trim(),i=r.match(/\((\d+)\)$/);this.searchInput.value=i?t+" ("+i[1]+")":t;this.lockInput()}else this.searchInput.value="",this.unlockInput()};CountryFacet.prototype.bindEvents=function(){var n=this;this.searchInput.addEventListener("focus",function(){n.isLocked||n.showDropdown()});this.searchInput.addEventListener("input",function(t){n.isLocked||(n.showDropdown(),n.filterOptions(t.target.value))});this.clearButton.addEventListener("click",function(){n.clearSelection()});document.addEventListener("click",function(t){n.searchInput.contains(t.target)||n.dropdown.contains(t.target)||n.clearButton.contains(t.target)||n.hideDropdown()});this.dropdown.addEventListener("click",function(t){t.target.classList.contains("dropdown-option")&&n.selectCountry(t.target)})};