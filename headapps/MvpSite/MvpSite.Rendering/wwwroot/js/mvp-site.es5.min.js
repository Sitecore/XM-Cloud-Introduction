"use strict";function timelineEventsHeightRecalculation(n,t){n.each(function(n,i){var u=$(i),r=undefined;u.find(".t-event").each(function(n,i){var u=$(i),f;t?u.css("height",""):(n%3==0&&u.next().length>0?u.height(50):n%3==1&&(f=r.children(".card").height(),u.height(f)),r=u)})})}function directorySearchClearHandler(){function i(){var i=new URLSearchParams(window.location.search);i.has(t)||(n.value="")}var n=document.getElementById("directory-search"),t;n&&(t="q",window.addEventListener("pageshow",i))}function setupMentorCheckboxBehavior(){var t=document.getElementById("IsMentor"),n=document.getElementById("IsOpenToNewMentees");t&&n&&(n.disabled=!t.checked,t.addEventListener("change",function(){n.disabled=!this.checked;this.checked||(n.checked=!1)}))}function CountryFacet(n){if(this.searchInput=document.getElementById("country-search-"+n),this.dropdown=document.getElementById("country-dropdown-"+n),this.hiddenInput=document.getElementById("country-hidden-"+n),this.clearButton=document.getElementById("country-clear-"+n),!this.searchInput||!this.dropdown||!this.hiddenInput||!this.clearButton){console.warn("CountryFacet: Required elements not found for identifier: "+n);return}this.isLocked=!1;this.identifier=n;this.init()}$(document).ready(function(){var t=$(window),i,u,f,n,e,o,r,s,h,c;if($("#search").keyup(function(n){n.which===13&&(n.preventDefault(),$("#gosearch").click())}),i=$("#addMoreReviewers"),i.length>0&&function(){var n=$("#addReviewerForm div.form-group")[0].outerHTML;i.click(function(){i.before(n)})}(),u=$(".countdown"),u.length>0&&u.each(function(n,t){var i=$(t),r=new Date(i.data("date")),u=i.children(".countdown-days"),f=i.children(".countdown-hours"),e=i.children(".countdown-minutes"),o=i.children(".countdown-seconds"),s=setInterval(function(){var t=(new Date).getTime(),h=new Date(t+(new Date).getTimezoneOffset()*6e4),n=r-h,c=Math.floor(n/864e5),l=Math.floor(n%864e5/36e5),a=Math.floor(n%36e5/6e4),v=Math.floor(n%6e4/1e3);u.text(c);f.text(l);e.text(a);o.text(v);n<=0&&(clearInterval(s),i.html("<span class='badge badge-danger'>Expired!<\/span>"))},1e3)}),f=$(".mvp-fp-directory"),f.length>0&&function(){var n=f.find("form");n.on("change","input:checkbox",function(){n.submit()});directorySearchClearHandler()}(),n=$(".timeline"),n.length>0){setTimeout(timelineEventsHeightRecalculation(n,t.width()<576),1e3);setTimeout(timelineEventsHeightRecalculation(n,t.width()<576),2e3);setTimeout(timelineEventsHeightRecalculation(n,t.width()<576),3e3);setTimeout(timelineEventsHeightRecalculation(n,t.width()<576),5e3);setTimeout(timelineEventsHeightRecalculation(n,t.width()<576),1e4);t.on("resize",function(){timelineEventsHeightRecalculation(n,t.width()<576)})}for(e=$(".textareacounter"),e.length>0&&e.each(function(n,t){var r=$(t),i=r.siblings("textarea"),u=i.attr("maxlength");i.on("input",function(){r.text(i.val().length+" / "+u)})}),o=document.querySelectorAll('[id^="country-search-"]'),r=0;r<o.length;r++)s=o[r],h=s.id.replace("country-search-",""),new CountryFacet(h);c=$(".mvp-fs-mvpmentordata");c.length>0&&setupMentorCheckboxBehavior()});CountryFacet.prototype.init=function(){this.setInitialValue();this.bindEvents()};CountryFacet.prototype.getDisplayValue=function(n){var r=n.getAttribute("data-value"),t,i;return r===""?"":(t=n.getAttribute("data-display"),i=n.textContent.trim().match(/\((\d+)\)$/),i?t+" ("+i[1]+")":t)};CountryFacet.prototype.selectCountry=function(n){var i=this.dropdown.querySelector(".dropdown-option.selected"),t,r,u;i&&i.classList.remove("selected");n.classList.add("selected");t=n.getAttribute("data-value");this.hiddenInput.value=t;r=n.querySelector(".country-label")?n.querySelector(".country-label").textContent:n.getAttribute("data-display");u=n.querySelector(".badge")?n.querySelector(".badge").textContent:"";t!==""?(this.showSelectedDisplay(r,u),this.lockInput()):(this.hideSelectedDisplay(),this.unlockInput());this.hiddenInput.form.submit()};CountryFacet.prototype.showDropdown=function(){this.dropdown.style.display="block";this.showAllOptions()};CountryFacet.prototype.hideDropdown=function(){this.dropdown.style.display="none"};CountryFacet.prototype.lockInput=function(){this.isLocked=!0;this.searchInput.classList.add("locked");this.searchInput.readOnly=!0;this.clearButton.classList.add("visible")};CountryFacet.prototype.unlockInput=function(){this.isLocked=!1;this.searchInput.classList.remove("locked");this.searchInput.readOnly=!1;this.clearButton.classList.remove("visible")};CountryFacet.prototype.clearSelection=function(){var n=this.dropdown.querySelector('.dropdown-option[data-value=""]');n&&this.selectCountry(n)};CountryFacet.prototype.showAllOptions=function(){for(var t=this.dropdown.querySelectorAll(".dropdown-option"),n=0;n<t.length;n++)t[n].classList.remove("hidden")};CountryFacet.prototype.filterOptions=function(n){for(var r,i=this.dropdown.querySelectorAll(".dropdown-option"),u=n.toLowerCase(),t=0;t<i.length;t++)r=n===""||i[t].textContent.toLowerCase().indexOf(u)!==-1,i[t].classList.toggle("hidden",!r)};CountryFacet.prototype.setInitialValue=function(){var n=this.dropdown.querySelector(".dropdown-option.selected"),t,i;n&&n.getAttribute("data-value")!==""?(t=n.querySelector(".country-label")?n.querySelector(".country-label").textContent:n.getAttribute("data-display"),i=n.querySelector(".badge")?n.querySelector(".badge").textContent:"",this.showSelectedDisplay(t,i),this.lockInput()):(this.hideSelectedDisplay(),this.unlockInput())};CountryFacet.prototype.bindEvents=function(){var n=this;this.searchInput.addEventListener("focus",function(){n.isLocked||n.showDropdown()});this.searchInput.addEventListener("input",function(t){n.isLocked||(n.showDropdown(),n.filterOptions(t.target.value))});this.clearButton.addEventListener("click",function(){n.clearSelection()});document.addEventListener("click",function(t){var i=n.searchInput.contains(t.target)||n.dropdown.contains(t.target)||n.clearButton.contains(t.target);i||n.hideDropdown()});this.dropdown.addEventListener("click",function(t){var i=t.target.closest(".dropdown-option");i&&n.selectCountry(i)})};CountryFacet.prototype.showSelectedDisplay=function(n,t){var i,r;this.searchInput.style.display="none";this.dropdown.style.display="none";i=document.getElementById("country-selected-"+this.identifier);i&&(i.style.display="flex",i.querySelector(".country-selected-label").textContent=n,r=i.querySelector(".badge"),t?(r.textContent=t,r.style.display="inline-block"):(r.textContent="",r.style.display="none"))};CountryFacet.prototype.hideSelectedDisplay=function(){var n=document.getElementById("country-selected-"+this.identifier);n&&(n.style.display="none");this.searchInput.style.display=""};