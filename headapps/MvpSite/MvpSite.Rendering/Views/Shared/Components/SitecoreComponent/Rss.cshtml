@using MvpSite.Rendering.FeedReader
@using MvpSite.Rendering.Models
@model MvpSite.Rendering.Models.Rss
@inject IFeedReader FeedReader

    <div class="col-12 panel">
        
        <h1 asp-for="Title"></h1>
        
        <p asp-for="Description"></p>


        <h2>Latest episodes</h2>

        @{
            IList<FeedItem> feedItems = Model.RssUrl != null ? FeedReader.GetFeed(Model.RssUrl.Value) : [];
            @foreach (FeedItem item in feedItems)
            {
                <h3><a href="@item.Url">@item.Title</a></h3>
                <p>@item.Description</p>
            }
        }

    </div>